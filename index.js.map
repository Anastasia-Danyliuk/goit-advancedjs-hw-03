{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createImageHtmlTemplate = image => {\n  return `\n    <li class=\"gallery-card\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img\n          class=\"gallery-img\"\n          src=\"${image.webformatURL}\"\n          alt=\"${image.tags}\"\n        />\n      </a>\n      <div class=\"gallery-info\" style=\"display: flex; justify-content: space-around; padding: 8px; font-size: 14px; border: 1px solid #ddd; border-top: none;\">\n        <div><strong>Likes</strong><br>${image.likes}</div>\n        <div><strong>Views</strong><br>${image.views}</div>\n        <div><strong>Comments</strong><br>${image.comments}</div>\n        <div><strong>Downloads</strong><br>${image.downloads}</div>\n      </div>\n    </li>\n  `;\n};","export const fetchPhotosByQuery = searchQuery => {\n  const requestParams = new URLSearchParams({\n    q: searchQuery,\n    orientation: 'horizontal',\n    image_type: 'photo',\n    safesearch: true,\n    key: '50729371-43a7836f0c474a05c441d935f',\n  });\n\n    return fetch(`https://pixabay.com/api/?${requestParams}`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { createImageHtmlTemplate } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.js-loader');\n\nconst lightbox = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const { target: searchForm } = event;\n\n  const searchQuery = searchForm.elements.user_query.value;\n\n  loader.classList.add('active');\n\n  gallery.innerHTML = '';\n\n  fetchPhotosByQuery(searchQuery)\n    .finally(() => {\n      loader.classList.remove('active');\n    })\n    .then(data => {\n      if (data.totalHits === 0) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        gallery.innerHTML = '';\n\n        return;\n      }\n\n      const galleryHtmlTemplate = data.hits.map(image => createImageHtmlTemplate(image)).join('');\n      gallery.innerHTML = galleryHtmlTemplate;\n      lightbox.refresh();\n\n    })\n    .catch(err => {\n      console.log(err);\n    });\n\n};\nsearchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["createImageHtmlTemplate","image","fetchPhotosByQuery","searchQuery","requestParams","response","searchForm","gallery","loader","lightbox","SimpleLightbox","onSearchFormSubmit","event","data","iziToast","galleryHtmlTemplate","err"],"mappings":"6vBAAO,MAAMA,EAA0BC,GAC9B;AAAA;AAAA,sCAE6BA,EAAM,aAAa;AAAA;AAAA;AAAA,iBAGxCA,EAAM,YAAY;AAAA,iBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yCAIcA,EAAM,KAAK;AAAA,yCACXA,EAAM,KAAK;AAAA,4CACRA,EAAM,QAAQ;AAAA,6CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,ICd/CC,EAAqBC,GAAe,CAC/C,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,EAAGD,EACH,YAAa,aACb,WAAY,QACZ,WAAY,GACZ,IAAK,oCACT,CAAG,EAEC,OAAO,MAAM,4BAA4BC,CAAa,EAAE,EACrD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,CACP,ECTMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,KAAM,CAAE,OAAQN,CAAY,EAAGM,EAEzBT,EAAcG,EAAW,SAAS,WAAW,MAEnDE,EAAO,UAAU,IAAI,QAAQ,EAE7BD,EAAQ,UAAY,GAEpBL,EAAmBC,CAAW,EAC3B,QAAQ,IAAM,CACbK,EAAO,UAAU,OAAO,QAAQ,CACtC,CAAK,EACA,KAAKK,GAAQ,CACZ,GAAIA,EAAK,YAAc,EAAG,CACxBC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACpB,CAAS,EAEDP,EAAQ,UAAY,GAEpB,MACD,CAED,MAAMQ,EAAsBF,EAAK,KAAK,IAAIZ,GAASD,EAAwBC,CAAK,CAAC,EAAE,KAAK,EAAE,EAC1FM,EAAQ,UAAYQ,EACpBN,EAAS,QAAO,CAEtB,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,CAAG,CACrB,CAAK,CAEL,EACAV,EAAW,iBAAiB,SAAUK,CAAkB"}